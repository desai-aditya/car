<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>14642 Lab3: kmutex_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">14642 Lab3
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">kmutex_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The struct for a mutex.  
 <a href="structkmutex__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="syscall__mutex_8h_source.html">syscall_mutex.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for kmutex_t:</div>
<div class="dyncontent">
<div class="center"><img src="structkmutex__t__coll__graph.png" border="0" usemap="#kmutex__t_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:adf95641730f1a31a044426572119f610"><td class="memItemLeft" align="right" valign="top"><a id="adf95641730f1a31a044426572119f610"></a>
volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>locked_by</b></td></tr>
<tr class="separator:adf95641730f1a31a044426572119f610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee14e355132b36fdb24486a92d2e71d9"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmutex__t.html#aee14e355132b36fdb24486a92d2e71d9">prio_ceil</a></td></tr>
<tr class="separator:aee14e355132b36fdb24486a92d2e71d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140f40cd4064192cecc76511eed01382"><td class="memItemLeft" align="right" valign="top">volatile struct tcb_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmutex__t.html#a140f40cd4064192cecc76511eed01382">owner</a></td></tr>
<tr class="separator:a140f40cd4064192cecc76511eed01382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0daba7b15a8cae077795abbe3ae075dd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structkmutex__t.html">kmutex_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmutex__t.html#a0daba7b15a8cae077795abbe3ae075dd">next</a></td></tr>
<tr class="separator:a0daba7b15a8cae077795abbe3ae075dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca1dfb51f49df4bf7d3f765ddaab0b1"><td class="memItemLeft" align="right" valign="top">struct tcb_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmutex__t.html#aeca1dfb51f49df4bf7d3f765ddaab0b1">waiting_threads</a></td></tr>
<tr class="separator:aeca1dfb51f49df4bf7d3f765ddaab0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c588e7cc30e2e3b57f3dbede0645fe"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkmutex__t.html#ac8c588e7cc30e2e3b57f3dbede0645fe">current_max_priority</a></td></tr>
<tr class="separator:ac8c588e7cc30e2e3b57f3dbede0645fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The struct for a mutex. </p>
<p>This is the definition of the mutex structure. We store the ID of the thread that is currently locking the mutex, followed by the priority ceiling which indicate the highest priority thread's priority that can lock the mutex. We also maintain a linked list of mutexes to store which mutex is held by which thread. We also maintain a linked list of the TCBs which are waiting for the mutex. The structure also contains the current value of the highest priority. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ac8c588e7cc30e2e3b57f3dbede0645fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c588e7cc30e2e3b57f3dbede0645fe">&#9670;&nbsp;</a></span>current_max_priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t kmutex_t::current_max_priority</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>list of the threads which are waiting to be scheduled </p>

</div>
</div>
<a id="a0daba7b15a8cae077795abbe3ae075dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0daba7b15a8cae077795abbe3ae075dd">&#9670;&nbsp;</a></span>next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structkmutex__t.html">kmutex_t</a>* kmutex_t::next</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>current owner of the mutex </p>

</div>
</div>
<a id="a140f40cd4064192cecc76511eed01382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140f40cd4064192cecc76511eed01382">&#9670;&nbsp;</a></span>owner</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile struct tcb_t* kmutex_t::owner</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this is passed by the thread, indicating the max static prio of a task that will use this shared resource </p>

</div>
</div>
<a id="aee14e355132b36fdb24486a92d2e71d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee14e355132b36fdb24486a92d2e71d9">&#9670;&nbsp;</a></span>prio_ceil</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t kmutex_t::prio_ceil</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ID of the thread that is currently holding the mutex </p>

</div>
</div>
<a id="aeca1dfb51f49df4bf7d3f765ddaab0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeca1dfb51f49df4bf7d3f765ddaab0b1">&#9670;&nbsp;</a></span>waiting_threads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tcb_t* kmutex_t::waiting_threads</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to the next mutex in the linked list </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>kernel/include/<a class="el" href="syscall__mutex_8h_source.html">syscall_mutex.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
</div>
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>